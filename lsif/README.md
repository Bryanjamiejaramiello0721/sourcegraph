# LSIF code intelligence

This project is an early adopter of Microsoft's [LSIF](https://code.visualstudio.com/blogs/2019/02/19/lsif) standard. LSIF (Language Server Index Format) is a format used to store the results of language server queries that are computed ahead-of-time. We uses this format to provide jump-to-definition, find-reference, and hover docstring functionality.

LSIF dumps are generated by running an LSIF indexer in a build or continuous integration environment. The dump is uploaded to a Sourcegraph instance via the [upload.sh](upload.sh) script (similar to [Codecov's Bash Uploader](https://docs.codecov.io/docs/about-the-codecov-bash-uploader)). An LSIF server, proxied by the frontend for auth, answers relevant LSP queries to provide fast and precise code intelligence.

We support the following LSIF indexers.

- [lsif-node](https://github.com/sourcegraph/lsif-node)
- [lsif-go](https://github.com/sourcegraph/lsif-go)
- [lsif-py](https://github.com/sourcegraph/lsif-py)
- [lsif-cpp](https://github.com/sourcegraph/lsif-cpp)

### Architecture

This project is split into two parts, both written in TypeScript. These parts are deployable independently, but for now they run in the same docker container. The HTTP [server](./src/server) receives LSIF uploads and answers LSP queries by looking at a relevant SQLite database on-disk. The [worker](./src/worker) receives job requests via Redis. The worker converts LSIF dump uploads into SQLite databases that can be queried by the server.

### Documentation

API endpoint documentation is provided in [api.md](./docs/api.md). The backend data model is described in [database.md](./docs/database.md) and [xrepo.md](./docs/xrepo.md).
